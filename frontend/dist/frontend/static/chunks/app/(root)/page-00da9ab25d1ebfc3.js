(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{8098:function(e,t,l){Promise.resolve().then(l.bind(l,9308))},3145:function(e,t,l){"use strict";l.d(t,{default:function(){return r.a}});var s=l(8461),r=l.n(s)},8461:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return c},getImageProps:function(){return i}});let s=l(7043),r=l(5346),n=l(5878),a=s._(l(5084));function i(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let c=n.Image},9308:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var s=l(7437),r=l(2265),n=l(1201),a=l(8614),i=l(4847);let c=e=>{let{items:t,className:l,useGrid:c=!0}=e,[x,f]=(0,r.useState)(null);return(0,s.jsx)("div",{className:(0,n.cn)("",l,{"grid grid-cols-1 md:grid-cols-2  lg:grid-cols-3 py-10":c}),children:t.map((e,t)=>(0,s.jsxs)("div",{className:"relative group  block p-2  w-full",onMouseEnter:()=>f(t),onMouseLeave:()=>f(null),children:[(0,s.jsx)(a.M,{children:x===t&&(0,s.jsx)(i.E.span,{className:"absolute inset-0 h-full w-full bg-primary dark:bg-slate-800 block rounded-3xl",layoutId:"hoverBackground",initial:{opacity:0},animate:{opacity:1,transition:{duration:.15}},exit:{opacity:0,transition:{duration:.15,delay:.2}}})}),(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:e.device_name}),(0,s.jsxs)(u,{className:"text-black-2 text-[14px] font-medium",children:[e.device_count," ",1===e.device_count?"Device":"Devices"]})]})]},null==e?void 0:e.device_name))})},o=e=>{let{className:t,children:l}=e;return(0,s.jsx)("div",{className:(0,n.cn)("rounded-2xl w-full overflow-hidden relative z-20 shadow-lg bg-white",t),children:(0,s.jsx)("div",{className:"relative z-50",children:(0,s.jsx)("div",{className:"px-8 py-6",children:l})})})},d=e=>{let{className:t,children:l}=e;return(0,s.jsx)("h4",{className:(0,n.cn)("text-black-1 font-bold tracking-wide",t),children:l})},u=e=>{let{className:t,children:l}=e;return(0,s.jsx)("p",{className:(0,n.cn)("mt-3 text-black-2 tracking-wide leading-relaxed text-sm",t),children:l})};var x=l(3145),f=e=>{let{type:t,title:l,user:r,subtext:n,iconUrl:a}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("h1",{className:"text-[32px] lg:text-[30px] font-semibold text-gray-900",children:[l,"greeting"===t&&(0,s.jsxs)("span",{className:"text-black",children:[",\xa0",r]})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[a&&(0,s.jsx)("div",{className:"bg-primary rounded-full w-8 h-8 flex items-center justify-center",children:(0,s.jsx)(x.default,{src:a,alt:"".concat(a),width:50,height:2,className:"size-5"})}),n&&(0,s.jsx)("p",{className:"text-[14px] lg:text-[16px] font-normal text-gray-600",children:n})]})]})},h=()=>{let[e,t]=(0,r.useState)(null),[l,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:3002/api/users/logged-in-user");if(!e.ok)throw Error("Failed to fetch user");let l=await e.json();if(t(l),l){let e=await fetch("http://localhost:3002//api/devices/get?user_id=".concat(l.id));if(!e.ok)throw Error("Failed to fetch devices");let t=await e.json();n(t)}}catch(e){e instanceof Error?i(e.message):i("An unexpected error occurred")}})()},[]),(0,s.jsx)("section",{className:"no-scrollbar flex w-full flex-row max-xl:max-h-screen max-xl:overflow-y-scroll",children:(0,s.jsxs)("div",{className:"no-scrollbar flex w-full flex-1 flex-col gap-8 px-5 py-7  sm:px-8  lg:py-12  xl:max-h-screen xl:overflow-y-scroll",children:[(0,s.jsx)("header",{children:(0,s.jsx)(f,{type:"greeting",title:"Welcome Home",user:(null==e?void 0:e.first_name)||"Guest",subtext:"".concat((null==e?void 0:e.address1)||"",", ").concat((null==e?void 0:e.city)||"",", ").concat((null==e?void 0:e.postal_code)||""),iconUrl:"/assets/icons/shared/pin-icon.svg"})}),a?(0,s.jsx)("p",{className:"text-red-500",children:a}):(0,s.jsx)("div",{children:(0,s.jsx)("p",{children:"hello"})}),(0,s.jsx)(c,{items:l})]})})}},1201:function(e,t,l){"use strict";l.d(t,{cn:function(){return n}});var s=l(1994),r=l(3335);function n(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[878,137,222,971,117,744],function(){return e(e.s=8098)}),_N_E=e.O()}]);